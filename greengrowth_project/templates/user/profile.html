{% extends 'layout.html' %}
{% block title %}Profil Saya | GreenGrowth{% endblock %}
{% set is_editing = form_data or errors %}

{# ================= LEFT / ASIDE ================= #}
{% block aside %}{% endblock %}

{# ================= RIGHT / ARTICLE ================= #}
{% block article %}
<section class="w-full min-h-screen bg-[#F5F7FA]">

  <!-- COVER -->
  <div class="relative w-full">
    <a href="{{ back_url }}"
       class="group absolute bg-[#0BDAAA] rounded-full top-3 left-3 inline-flex items-center gap-3 text-sm font-semibold text-black">
      <span class="w-9 h-9 flex items-center justify-center rounded-full border border-[#0BDAAA]
                   group-hover:bg-[#0BDAAA] transition">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
             stroke-width="2" stroke="currentColor"
             class="w-4 h-4 group-hover:text-black">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
        </svg>
      </span>
    </a>
    <div
      class="w-full h-56 bg-cover bg-center"
      style="background-image:url('/static/images/loreg.jpg')">
    </div>

    <!-- AVATAR -->
    <div class="absolute left-10 bottom-0 translate-y-1/2">
      <div class="relative w-40 h-40">
        <img
          id="profile-photo"
          src="{{ profile.foto_user if profile.foto_user else 'https://cdn-icons-png.flaticon.com/512/892/892781.png' }}"
          class="w-40 h-40 rounded-full border-4 border-white object-cover shadow-lg"
          alt="Foto Profil"
        >
      </div>
    </div>
  </div>

  <!-- CONTENT -->
  <div class="max-w-6xl mx-auto px-6 md:px-10 pt-32 md:pt-20 pb-20 md:ml-[11rem]">

    <div class="flex items-center mb-6 gap-8">
      <div class="w-30"></div>
      <div class="flex-1 flex items-center justify-between">
        <div>
          <h2 class="text-2xl font-semibold text-gray-700">{{ profile.nama_user }}</h2>
          <p class="text-sm text-gray-500">{{ profile.email_user }}</p>
        </div>

        <div class="mt-2">
          <a
            href="{{ url_for('profile_user.edit_profile', user_id=profile.user_id) }}"
            class="inline-flex items-center gap-2 px-4 py-2 rounded-full
                 border bg-[#FFFFF] border-[#0BDAAA] text-[#0BDAAA]
                 hover:bg-[#0BDAAA] hover:text-white transition
                 focus:outline-none focus:ring-2 focus:ring-[#0BDAAA] focus:ring-offset-2"
            aria-label="Edit profil"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232a1 1 0 011.414 0L19 7.586a1 1 0 010 1.414l-9.193 9.193a1 1 0 01-.393.242l-4 1a1 1 0 01-1.266-1.266l1-4a1 1 0 01.242-.393L15.232 5.232z"/>
            </svg>
            <span class="font-medium">Edit Profil</span>
          </a>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 bg-white p-8 rounded-2xl shadow-lg shadow-2xl">

      <div>
        <p class="text-xs uppercase tracking-wide text-gray-400">Nama Lengkap</p>
      <p class="text-gray-700 font-medium mt-1">
        {{ profile.nama_user or '-' }}
      </p>
      </div>

      <div>
        <label class="text-xs uppercase tracking-wide text-gray-400">Email</label>
        <div class="text-gray-700 font-medium mt-1">{{ profile.email_user or '-' }}</div>
      </div>

      <div>
        <label class="text-xs uppercase tracking-wide text-gray-400">Jenis Kelamin</label>
        <div class="text-gray-700 font-medium mt-1">{{ profile.gender or '-' }}</div>
      </div>

      <div>
        <label class="text-xs uppercase tracking-wide text-gray-400">Tanggal Lahir</label>
        <div class="text-gray-700 font-medium mt-1">{{ profile.tanggal_lahir or '-' }}</div>
      </div>

      <div>
        <label class="text-xs uppercase tracking-wide text-gray-400">Pendidikan Tertinggi</label>
        <div class="text-gray-700 font-medium mt-1">{{ profile.pendidikan_tertinggi or '-' }}</div>
      </div>

      <div>
        <label class="text-xs uppercase tracking-wide text-gray-400">No HP</label>
        <div class="text-gray-700 font-medium mt-1">{{ profile.no_hp or '-' }}</div>
      </div>

      <div>
        <label class="text-xs uppercase tracking-wide text-gray-400">Softskill</label>
        <div class="text-gray-700 font-medium mt-1">{{ profile.softskill or '-' }}</div>
      </div>

      <div>
        <label class="text-xs uppercase tracking-wide text-gray-400">Hardskill</label>
        <div class="text-gray-700 font-medium mt-1">{{ profile.hardskill or '-' }}</div>
      </div>

      <div>
        <label class="text-xs uppercase tracking-wide text-gray-400">Pengalaman</label>
        <div class="text-gray-700 font-medium mt-1">{{ profile.pengalaman or '-' }}</div>
      </div>

      <div class="">
        <label class="text-xs uppercase tracking-wide text-gray-400">Alamat</label>
        <div class="text-gray-700 font-medium mt-1">{{ profile.alamat or '-' }}</div>
      </div>

    </div>
  </div>
</section>
<script>
function previewImage(event) {
  const file = event.target.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = () => {
    document.getElementById('preview').src = reader.result;
  };
  reader.readAsDataURL(file);
}
</script>
{% endblock %}



