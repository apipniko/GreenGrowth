{% extends "admin/layout_admin.html" %}

{% block sidebar %}
  {% include 'admin/sidebar.html' %}
{% endblock %}

{% block content %}
<!-- ============================================================================ -->
<!--                              KONTEN UTAMA                                    -->
<!-- ============================================================================ -->
<div class="p-8 flex flex-col gap-6 min-h-screen">
  
  <!-- Judul Halaman -->
  <div>
    <h1 class="text-5xl font-bold h-16 text-transparent bg-clip-text bg-gradient-to-r from-[#0BDAAA] to-[#15F275] mb-2">
      Create Job Vacancy
    </h1>
    <p class="text-gray-600">Post a new job opportunity</p>
  </div>
  
  <!-- Flash Messages -->
  {% include 'partials/flash.html' %}

  <!-- ========================================================================== -->
  <!--                        FORM CREATE LOWONGAN                                -->
  <!-- ========================================================================== -->
  <div class="bg-white rounded-2xl border border-gray-200 shadow-sm p-8 flex-1 overflow-hidden">
    <div class="overflow-y-auto h-full">
    <form 
      method="post" 
      action="{{ url_for('lowongan.create_lowongan') }}" 
      class="space-y-6"
    >
      
      <!-- Field: Program -->
      <div>
        <label 
          for="program_id" 
          class="block text-black font-bold mb-3 text-sm"
        >
          Program <span class="text-red-500">*</span>
        </label>
        <select 
          id="program_id" 
          name="program_id" 
          class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-black focus:outline-none focus:ring-2 focus:ring-[#0BDAAA] focus:border-transparent transition-all" 
          required
        >
          <option value="" disabled selected>
            -- Select Program --
          </option>
          {% for program in programs %}
          <option 
            value="{{ program[0] }}" 
            {% if program[0]|string == selected_program_id|string %}selected{% endif %}
          >
            {{ program[1] if program[1] else 'Program ' ~ program[0] }}
          </option>
          {% endfor %}
        </select>
      </div>

      <!-- Field: Nama Lowongan -->
      <div>
        <label 
          for="nama_lowongan" 
          class="block text-black font-bold mb-3 text-sm"
        >
          Job Title <span class="text-red-500">*</span>
        </label>
        <input 
          type="text" 
          id="nama_lowongan" 
          name="nama_lowongan" 
          placeholder="e.g., Environmental Technician, Green Project Manager"
          class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-black placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0BDAAA] focus:border-transparent transition-all" 
          required 
        />
      </div>

      <!-- Field: Status Lowongan -->
      <div>
        <label 
          for="status_lowongan" 
          class="block text-black font-bold mb-3 text-sm"
        >
          Vacancy Status <span class="text-red-500">*</span>
        </label>
        <select 
          id="status_lowongan" 
          name="status_lowongan" 
          class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-black focus:outline-none focus:ring-2 focus:ring-[#0BDAAA] focus:border-transparent transition-all" 
          required
        >
          <option value="dibuka" selected>Open</option>
          <option value="ditutup">Closed</option>
        </select>
      </div>

      <!-- Age Range -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label 
            for="min_umur" 
            class="block text-black font-bold mb-3 text-sm"
          >
            Minimum Age <span class="text-red-500">*</span>
          </label>
          <input 
            type="number" 
            id="min_umur" 
            name="min_umur" 
            min="0" 
            max="70" 
            placeholder="18"
            class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-black placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0BDAAA] focus:border-transparent transition-all" 
            required 
          />
        </div>

        <div>
          <label 
            for="max_umur" 
            class="block text-black font-bold mb-3 text-sm"
          >
            Maximum Age <span class="text-red-500">*</span>
          </label>
          <input 
            type="number" 
            id="max_umur" 
            name="max_umur" 
            min="0" 
            max="70" 
            placeholder="55"
            class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-black placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0BDAAA] focus:border-transparent transition-all" 
            required 
          />
        </div>
      </div>

      <!-- Field: Keahlian -->
      <div>
        <label 
          for="keahlian" 
          class="block text-black font-bold mb-3 text-sm"
        >
          Required Skills <span class="text-red-500">*</span>
        </label>
        <textarea 
          id="keahlian" 
          name="keahlian" 
          rows="3" 
          placeholder="List required technical and soft skills..."
          class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-black placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0BDAAA] focus:border-transparent transition-all resize-vertical" 
          required
        ></textarea>
      </div>

      <!-- Field: Pengalaman -->
      <div>
        <label 
          for="pengalaman" 
          class="block text-black font-bold mb-3 text-sm"
        >
          Work Experience Requirements <span class="text-red-500">*</span>
        </label>
        <textarea 
          id="pengalaman" 
          name="pengalaman" 
          rows="4" 
          placeholder="Describe the experience and background needed..."
          class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-black placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0BDAAA] focus:border-transparent transition-all resize-vertical" 
          required
        ></textarea>
      </div>

      <!-- Field: Minimal Pendidikan -->
      <div>
        <label 
          for="min_pendidikan" 
          class="block text-black font-bold mb-3 text-sm"
        >
          Minimum Education Level <span class="text-red-500">*</span>
        </label>
        <select 
          id="min_pendidikan" 
          name="min_pendidikan" 
          class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-black focus:outline-none focus:ring-2 focus:ring-[#0BDAAA] focus:border-transparent transition-all" 
          required
        >
          <option value="SD" selected>Elementary School (SD)</option>
          <option value="SMP">Junior High School (SMP)</option>
          <option value="SMA">Senior High School (SMA/SMK)</option>
          <option value="D3">Diploma 3 (D3)</option>
          <option value="D4">Diploma 4 (D4)</option>
          <option value="S1">Bachelor's Degree (S1)</option>
          <option value="S2">Master's Degree (S2)</option>
          <option value="S3">Doctoral Degree (S3)</option>
        </select>
      </div>

      <!-- Field: Kuota Pekerja -->
      <div>
        <label 
          for="kuota_pekerja" 
          class="block text-black font-bold mb-3 text-sm"
        >
          Worker Quota <span class="text-red-500">*</span>
        </label>
        <input 
          type="number" 
          id="kuota_pekerja" 
          name="kuota_pekerja" 
          min="1" 
          max="70" 
          placeholder="10"
          class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl text-black placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#0BDAAA] focus:border-transparent transition-all" 
          required 
        />
      </div>

      <!-- Tombol Aksi -->
      <div class="flex justify-end gap-3 pt-8 border-t border-gray-200">
        <a 
          href="{{ url_for('admin.dashboard') }}" 
          class="px-6 py-3 bg-gray-200 hover:bg-gray-300 text-black font-bold rounded-lg transition-colors inline-flex items-center gap-2"
        >
          <i class="fas fa-arrow-left"></i> Cancel
        </a>
        <button 
          type="submit" 
          class="px-8 py-3 bg-gradient-to-r from-[#0BDAAA] to-[#15F275] text-black font-bold rounded-lg hover:shadow-lg transition-all inline-flex items-center gap-2"
        >
          <i class="fas fa-plus-circle"></i> Create Vacancy
        </button>
      </div>
      
    </form>
    </div>
  </div>
  
</div>
{% endblock %}