{% extends "admin/layout_admin.html" %} 
{% block sidebar %} 
{% include 'admin/sidebar.html' %} 
{% endblock %}

{% block content %}

<!--============================= KONTEN UTAMA ===========================-->
<div class="p-6 flex flex-col h-screen">
  <!--============================= judul halaman ===========================-->
  <h1 class="mt-4 mb-6 text-center text-4xl font-bold text-black">
    Create a New Article
  </h1>
{% include 'partials/flash.html' %}
  <!--============================= INPUT FORM ===========================-->
  <div class="bg-[#0BDAAA] rounded-3xl p-6 overflow-y-auto mt-8 pb-16">

    <form
      action="{{ url_for('artikel.create') }}"
      method="post"
      enctype="multipart/form-data"
      class="space-y-2"
    >
      <!--============================= judul artikel ===========================-->
      <div>
        <label
          for="judul_artikel"
          class="block text-black font-bold mb-2 text-sm"
        >
          Article Title
        </label>
        <input
          type="text"
          id="judul_artikel"
          name="judul_artikel"
          value="{{ form.judul_artikel if form is defined else '' }}"
          placeholder="Enter the article title"
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold placeholder-black/40 focus:outline-none"
          required
        />
      </div>

      <!--============================= deskripsi artikel ===========================-->
      <div>
        <label
          for="deskripsi"
          class="block text-black font-bold mb-2 text-sm"
        >
          Article Description
        </label>
        <textarea
          id="deskripsi"
          name="deskripsi"
          rows="8"
          placeholder="Enter the article description"
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold placeholder-black/40 focus:outline-none"
          required
        >{{ form.deskripsi if form is defined else '' }}</textarea>
      </div>

      <!--============================= pilih program ===========================-->
      <div>
        <label
          for="program_id"
          class="block text-black font-bold mb-2 text-sm"
        >
          Related Programs
        </label>
        <select
          id="program_id"
          name="program_id"
          class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold focus:outline-none"
          required
        >
          <option value="" disabled selected style="background-color: #15f275">
            -- Select Program --
          </option>
          {% for p in programs %}
          <option
            value="{{ p.program_id }}"
            {% if form is defined and form.program_id == p.program_id %}selected{% endif %}
            style="background-color: #15f275; font-weight: bold"
          >
            {{ p.nama_program }}
          </option>
          {% endfor %}
        </select>
      </div>

      <!--============================= upload foto ===========================-->
      <div>
        <label
          for="foto_artikel"
          class="block text-black font-bold mb-2 text-sm"
        >
          article photo
        </label>
        <div class="relative">
          <input
            type="file"
            id="foto_artikel"
            name="foto_artikel"
            accept="image/*"
            class="w-full px-4 py-3 bg-black/10 rounded-xl text-black font-bold focus:outline-none file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-bold file:bg-[#15F275] file:text-black hover:file:bg-[#C7FB01] cursor-pointer"
          />
        </div>
        <p class="mt-1 text-xs text-black/60 font-semibold">
          Format: JPG, PNG, JPEG. Max 5MB
        </p>
      </div>

      <!--============================= BAGIAN BUTTON ===========================-->
      <div class="flex justify-center gap-4 pt-2">
        <button
          type="submit"
          class="bg-[#15F275] hover:bg-[#C7FB01] text-black font-bold px-20 py-3 rounded-full"
        >
          Save Article
        </button>
        <a
          href="{{ url_for('artikel.index') }}"
          class="bg-black/20 hover:bg-black/30 text-black font-bold px-16 py-3 rounded-full flex items-center"
        >
          Back
        </a>
      </div>
    </form>
  </div>
</div>
{% endblock %}