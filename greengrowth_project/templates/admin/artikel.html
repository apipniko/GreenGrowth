{% extends "admin/layout_admin.html" %} {% block sidebar %} {% include
'admin/sidebar.html' %} {% endblock %} {% block content %}
<div class="p-6 flex flex-col h-screen">
  <h1 class="mt-4 mb-6 text-center text-4xl font-bold text-black">
    List of Articles
  </h1>

  {% include 'partials/flash.html' %}

  <div class="mt-8 flex-1 flex bg-[#0BDAAA] rounded-3xl p-8 overflow-hidden">
    {% if artikels and artikels|length > 0 %}
    <div class="overflow-y-auto w-full">
      <div class="flex justify-left mb-6">
        <a
          href="{{ url_for('artikel.create') }}"
          class="bg-[#15F275] hover:bg-[#C7FB01] text-black font-bold px-8 py-3 rounded-full"
        >
          + Create Article
        </a>
      </div>

      <div class="space-y-6">
        {% for artikel in artikels %}
        <div class="bg-black/10 rounded-2xl p-6">
          <div class="flex flex-col md:flex-row gap-6">
            <div class="flex-shrink-0">
              <div class="w-48 h-48 bg-white rounded-xl overflow-hidden">
                {% if artikel.foto_artikel %}
                <img
                  src="{{ url_for('static', filename=artikel.foto_artikel) }}"
                  class="w-full h-full object-cover"
                />
                {% else %}
                <div class="w-full h-full flex items-center justify-center">
                  <span class="text-gray-400 font-semibold">No Image</span>
                </div>
                {% endif %}
              </div>
            </div>

            <div class="flex-1 space-y-2">
              <span class="text-black font-bold text-xl block"
                >{{ artikel.judul_artikel }}</span
              >
              <div>
                <span class="text-black/70 font-semibold text-sm"
                  >Related Program:</span
                >
                <p class="text-black font-bold">
                  {{ artikel.program_name or '-' }}
                </p>
              </div>
              <div>
                <span class="text-black/70 font-semibold text-sm"
                  >Description:</span
                >
                <p class="text-black/80 text-sm line-clamp-3">
                  {{ artikel.deskripsi or 'No description available.' }}
                </p>
              </div>
            </div>
          </div>

          <div
            class="flex justify-end gap-3 mt-4 pt-4 border-t border-black/10"
          >
            <a
              href="{{ url_for('artikel.show', artikel_id=artikel.artikel_id) }}"
              class="bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded-full text-sm"
              >View</a
            >
            <a
              href="{{ url_for('artikel.edit', artikel_id=artikel.artikel_id) }}"
              class="bg-[#C7FB01] hover:bg-[#15F275] text-black font-semibold px-6 py-2 rounded-full text-sm"
              >Update</a
            >
            <form
              action="{{ url_for('artikel.delete', artikel_id=artikel.artikel_id) }}"
              method="POST"
              onsubmit="return confirm('Are you sure?')"
              class="inline"
            >
              <button
                type="submit"
                class="bg-red-500 hover:bg-red-600 text-white font-semibold px-6 py-2 rounded-full text-sm"
              >
                Delete
              </button>
            </form>
          </div>
        </div>
        {% endfor %}
      </div>

      {% if pagination %}
      <nav class="mt-8 mb-4 flex items-center justify-center space-x-2">
        {% if pagination.prev %}<a
          href="{{ pagination.prev }}"
          class="px-4 py-2 bg-white rounded-lg font-semibold text-black hover:bg-[#15F275]"
        >
          « </a
        >{% endif %} {% for p in pagination.pages %}
        <a
          href="{{ p.url }}"
          class="px-4 py-2 rounded-lg font-semibold text-black {% if p.active %}bg-[#15F275]{% else %}bg-white hover:bg-[#C7FB01]{% endif %}"
          >{{ p.num }}</a
        >
        {% endfor %} {% if pagination.next %}<a
          href="{{ pagination.next }}"
          class="px-4 py-2 bg-white rounded-lg font-semibold text-black hover:bg-[#15F275]"
        >
          » </a
        >{% endif %}
      </nav>
      {% endif %}
    </div>
    {% else %}
    <div class="flex flex-1 flex-col items-center justify-center text-center">
      <p class="mb-6 text-lg font-bold text-black">
        No articles have been created yet.
      </p>
      <a
        href="{{ url_for('artikel.create') }}"
        class="px-20 py-3 rounded-full font-bold text-black bg-[#15F275] hover:bg-[#C7FB01]"
        >Create First Article</a
      >
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
